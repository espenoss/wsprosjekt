<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var socket;

        $(document).ready(function(){

            var socket = new WebSocket("ws://localhost:8080");
            socket.onopen = () => {
              $("#connectState").html("Connected");
            };

            socket.onmessage = (event) => {
                var text= event.data;
                $("#messageOutput").html(text);
            };

            socket.onerror = () => {
              $("#connectState").html("Error - disconnected");
            };

            socket.onclose = () => {
              $("#connectState").html("Disconnected");
            };

            $('#send').click(function(){
                var message = $("#message").val();
                socket.send(message);
            });

        });

    </script>


    <title>Testklient</title>
</head>
<body>
    <input type="button" id="connect" value="connect" />
    <div id="connectState">tekst</div>
    <div id="messageOutput">tekst</div>
    <input type="text" id="message" value="melding"/> <br/>
    <input type="button" id="send" value="send" />
</body>
</html>